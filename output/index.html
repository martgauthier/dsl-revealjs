
<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Reveal DSL</title>
  <link rel="stylesheet" href="./public/reveal/dist/reveal.css">
  <link rel="stylesheet" href="./public/reveal/plugin/highlight/monokai.css">
  <script src="./public/reveal/dist/reveal.js"></script>
  <script src="./public/reveal/plugin/highlight/highlight.js"></script>
  <script src="./public/mathjax/tex-chtml.js"></script>
  

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js/plugin/highlight/monokai.css">
  

  
  <style>
  :root {
        --r-block-margin: 20px;
        --r-code-font: monospace;
    }
        
    .reveal ul {
      display: inline-block;
      text-align: left;
    }
    
    .vertical-frame {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
    }

    .horizontal-frame {
      display: flex;
      flex-direction: row;
      align-items: center;
      gap: 10px;
    }
    .reveal pre {
            display: block;
            position: relative;
            width: 90%;
            margin: var(--r-block-margin) auto;
            text-align: left;
            font-size: 1em;
            font-family: var(--r-code-font);
            line-height: 1.2em;
            word-wrap: break-word;
            box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.15);
        }

        .reveal code {
            font-family: var(--r-code-font);
            text-transform: none;
            tab-size: 2;
        }

        .reveal pre code {
            display: block;
            padding: 5px;
            overflow: auto;
            max-height: 400px;
            word-wrap: normal;
        }

        .reveal .code-wrapper {
            white-space: normal;
        }

        .reveal .code-wrapper code {
            white-space: pre;
        }

    .template-header, .template-footer {
      position: absolute;
      display: flex;
      justify-content: space-around;
      align-items: center;
      width: 100%;
      max-height: 15%;
    }

    .template-header {
      top: 0;
    }
    .template-footer {
      bottom: 0;
    }
    p { color: green; }
p { font-size: 2em; }

  </style>

</head>
<body>

<div class="reveal">
  <div class="template-header">
<img id="image-0"
     src="https://images.crunchbase.com/image/upload/c_pad,h_256,w_256,f_auto,q_auto:eco,dpr_1/zwpori82kr8sm8e1fvsp?ik-sanitizeSvg=true"
     alt="">
</div>
  <div class="slides">
    <section  data-transition="zoom-in zoom-out" class="slide">
                <p id="text-0">hddshdfe</p>
              </section>
<section  data-transition="fade-in fade-out" class="slide">
                <h1>Display Animations</h1>

      <div class="fragment fade-in"
           data-fragment-index="0">
        <p id="text-1">Hello</p>
      </div>
    
              </section>
<section  class="slide">
                <h1>Hide Animations</h1>

    <div>
      <span class="fragment fade-out"
            data-fragment-index="0">
        <p id="text-2">Goodbye</p>
      </span>
    </div>
  
              </section>
<section  class="slide">
                <h1>Replace Animations</h1>
<p id="text-3">1...</p>
<span class="fragment"
      data-fragment-index="0"
      data-replace-text="#text-3|...2">
</span>

              </section>
<section  class="slide">
                <h1>Highlight Code Animations</h1>

<pre>
<code class="language-javascript"
    data-trim
    data-line-numbers="|1|2|3|4" data-fragment-index="0|1|2|3">
const components = ast.components.map((c: any) => {
    const builder = COMPONENT_BUILDERS[c.$type];
    if (!builder) {
        throw new Error(`Unknown component type: ${c.$type}`);
    }
    return builder(c);
});
</code>
</pre>

              </section>
  </div>
  <div class="template-footer">
<img id="image-1"
     src="https://d2q79iu7y748jz.cloudfront.net/s/_squarelogo/256x256/18c05fe098149fb63b274945ce1a672e"
     alt="">
</div>
</div>

<!-- Reveal JS -->
<script src="https://cdn.jsdelivr.net/npm/reveal.js@5/dist/reveal.js"></script>
<script src="https://cdn.jsdelivr.net/npm/reveal.js@5/plugin/highlight/highlight.js"></script>
<!-- Script pour les animations de replace : -->
<script>
const replaceMemory = new Map();

function rememberInitialState(el) {
  if (replaceMemory.has(el)) return;

  if (el.tagName === 'IMG') {
    replaceMemory.set(el, el.src);
  } else if (el.tagName === 'VIDEO') {
    const source = el.querySelector('source');
    replaceMemory.set(el, source ? source.src : null);
  } else {
    replaceMemory.set(el, el.textContent);
  }
}

function restoreInitialState(el) {
  if (!replaceMemory.has(el)) return;

  const value = replaceMemory.get(el);

  if (el.tagName === 'IMG') {
    el.src = value;
  } else if (el.tagName === 'VIDEO') {
    const source = el.querySelector('source');
    if (source && value) {
      source.src = value;
      el.load();
    }
  } else {
    el.textContent = value;
  }
}

Reveal.on('fragmentshown', e => {
  const f = e.fragment;
  if (f.dataset.replaceText) {
    const [selector, newText] = f.dataset.replaceText.split('|');
    const el = document.querySelector(selector);
    if (!el) return;

    rememberInitialState(el);
    el.textContent = newText;
  }
  if (f.dataset.replaceImage) {
    const [selector, newSrc] = f.dataset.replaceImage.split('|');
    const el = document.querySelector(selector);
    if (!el) return;

    rememberInitialState(el);
    el.src = newSrc;
  }
  if (f.dataset.replaceVideo) {
    const [selector, newSrc] = f.dataset.replaceVideo.split('|');
    const el = document.querySelector(selector);
    if (!el) return;

    const source = el.querySelector('source');
    if (!source) return;

    rememberInitialState(el);
    source.src = newSrc;
    el.load();
    el.play();
  }
});

Reveal.on('fragmenthidden', e => {
  const f = e.fragment;

  if (f.dataset.replaceText) {
    const [selector] = f.dataset.replaceText.split('|');
    const el = document.querySelector(selector);
    if (el) restoreInitialState(el);
  }

  if (f.dataset.replaceImage) {
    const [selector] = f.dataset.replaceImage.split('|');
    const el = document.querySelector(selector);
    if (el) restoreInitialState(el);
  }

  if (f.dataset.replaceVideo) {
    const [selector] = f.dataset.replaceVideo.split('|');
    const el = document.querySelector(selector);
    if (el) restoreInitialState(el);
  }
});
</script>

<script>
  Reveal.initialize({
      
      plugins: [ 
          RevealHighlight,
           
      ],
      hash: true,
      slideNumber: true
    });
</script>


</body>
</html>
    